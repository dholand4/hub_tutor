<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bulk Whatsapp</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="../../assets/icone.png" type="image/png" />
</head>

<body>
    <div class="main-container">
        <div class="qr-section">
            <h2>Autentica√ß√£o</h2>

            <input type="text" id="matricula" placeholder="Digite sua matr√≠cula" required />
            <button onclick="authenticateWithMatricula()" style=" min-width: 200px">Autenticar</button>

            <img id="qrCode" style="display: none; margin-top: 20px;" alt="QR Code para login" />
            <p id="qrStatus" class="status-message">Clique para autenticar</p>

            <button id="clearAuthButton" style="display: none;" onclick="clearAuthentication()"
                aria-label="Limpar autentica√ß√£o">Limpar Autentica√ß√£o</button>

            <a href="../nomeReturn/index.html" class="btn" target="_blank">Converter Contatos</a>
        </div>

        <div class="message-section">
            <div class="header-with-info">
                <h2>Envio de Mensagens</h2>
                <button id="infoButton" class="info-icon" title="Ajuda">‚ÑπÔ∏è</button>
            </div>


            <textarea id="numbers" placeholder="Separe os n√∫meros por v√≠rgula:
Para incluir nomes, use: Nome: n√∫mero (ex: Daniel: 8897000530). 
Se n√£o for usar nome, insira dois pontos antes do n√∫mero (ex: :8897000530). 
N√£o precisa v√≠rgula ap√≥s o √∫ltimo n√∫mero." required></textarea>

            <div class=" message-box" id="messageBox">
                <div class="message-wrapper">
                    <textarea id="message" placeholder="Digite sua mensagem:
Use {nome} para inserir o nome do destinat√°rio. 
Voc√™ tamb√©m pode clicar no clipe ou arrastar uma imagem." required></textarea>
                    <button type="button" id="uploadButton" class="clip-button">üìé</button>
                </div>
                <input type="file" id="imageInput" accept="image/*" hidden />

                <img id="previewImage" style="display: none;" alt="Preview da imagem" />
                <button type="button" id="removeImageButton" style="display: none; margin-top: 10px;">‚ùå Remover
                    imagem</button>
            </div>

            <button onclick="sendMessage()" style=" min-width: 200px">Enviar Mensagem</button>
            <p id="status" class="status-message"></p>

        </div>
    </div>

    <footer>Daniel Holanda &copy; 2025</footer>
    <script src="script.js"></script>

    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span id="closeModal" class="close">&times;</span>
            <h3>Como utilizar o sistema de envio</h3>
            <div class="modal-scroll">
                <p>
                    <strong>1. Autentica√ß√£o:</strong><br>
                    - Insira sua <strong>matr√≠cula</strong> no campo indicado.<br>
                    - Clique em <strong>"Autenticar"</strong> para gerar o QR Code.<br>
                    - Escaneie o QR Code com o WhatsApp do seu celular.<br><br>
                    <strong>2. Convers√£o de contatos (opcional):</strong><br>
                    - Use o bot√£o <strong>"Converter Contatos"</strong> para gerar o formato correto.<br>
                    - O formato ideal para os contatos √©:<br>
                    <code>Nome: N√∫mero</code> ou apenas <code>:N√∫mero</code> se n√£o quiser usar nome.<br>
                    - <strong>Separe cada contato com v√≠rgula</strong> para que o sistema reconhe√ßa corretamente.<br>
                    <em>Exemplos v√°lidos:</em><br>
                    <code>Daniel: 8899001122, Jo√£o: 8898111222</code><br>
                    <code>:8899777666, :8899666555</code><br>
                    <strong>3. Composi√ß√£o da mensagem:</strong><br>
                    - Escreva a mensagem no campo de texto.<br>
                    - Voc√™ pode usar <code>{nome}</code> para personalizar com o nome do contato quando dispon√≠vel.<br>
                    <em>Exemplo:</em><br>
                    <code>Ol√° {nome}, sua consulta √© amanh√£ √†s 14h!</code><br>
                    - Se o nome n√£o for informado, <code>{nome}</code> ser√° substitu√≠do por "Usu√°rio".<br><br>

                    <strong>4. Envio de imagem (opcional):</strong><br>
                    - Clique no bot√£o üìé ou arraste uma imagem para a √°rea de mensagem.<br>
                    - O bot√£o de clipe desaparecer√° ao anexar uma imagem, e reaparecer√° ao remov√™-la.<br>
                    - A imagem ser√° enviada junto com a legenda (caso tenha texto).<br><br>

                    <strong>5. Enviar mensagens:</strong><br>
                    - Verifique os dados e clique em <strong>"Enviar Mensagem"</strong>.<br>
                    - As mensagens s√£o enviadas uma a uma, com 6 segundos de intervalo.<br>
                    - Abaixo do bot√£o ser√° exibido o status do envio em tempo real.<br><br>

                    <strong>Observa√ß√µes finais:</strong><br>
                    - Sempre inclua o DDD nos n√∫meros.<br>
                    - O envio ser√° ignorado caso o n√∫mero esteja mal formatado.<br>
                    - O sistema suporta texto, imagem ou ambos.
                </p>
            </div>
        </div>
    </div>



</body>

</html>